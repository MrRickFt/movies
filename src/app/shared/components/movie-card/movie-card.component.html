<mat-card class="movie-card mat-elevation-z4">
  <div class="poster-container">
    <img
      mat-card-image
      [src]="movie.poster_path ? 'https://image.tmdb.org/t/p/w500' + movie.poster_path : '/assets/no-poster.png'"
      [alt]="movie.title"
      class="movie-poster"
    >
    <div class="overlay">
      <div class="action-buttons">
        <button
          mat-icon-button
          class="favorite-button"
          [matTooltip]="isFavoriteSignal() ? 'Quitar de favoritos' : 'Añadir a favoritos'"
          (click)="toggleFavorite($event)"
        >
          <mat-icon>{{ isFavoriteSignal() ? 'favorite' : 'favorite_border' }}</mat-icon>
        </button>
        <button
          mat-mini-fab
          class="play-button"
          [routerLink]="['/movies', movie.id]"
        >
          <mat-icon>play_arrow</mat-icon>
        </button>
      </div>
    </div>
    <div class="rating-badge" [ngClass]="getRatingClass(movie.vote_average)">
      {{ movie.vote_average | number:'1.1-1' }}
    </div>
  </div>
    
  <mat-card-content>
    <h3 class="movie-title">{{ movie.title }}</h3>
    <p class="movie-release-date">{{ movie.release_date | date:'yyyy' }}</p>
  </mat-card-content>
    
  <mat-card-actions>
    <button
      mat-button
      class="details-button"
      [routerLink]="['/movies', movie.id]"
    >
      MÁS INFO
    </button>
  </mat-card-actions>
</mat-card>